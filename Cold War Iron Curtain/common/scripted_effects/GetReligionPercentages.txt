 GetReligionPercentages = {
    set_variable = { StateReligionTotal = 0 } 
    add_to_variable = {	StateReligionTotal = ReligionChristianityCatholic }
    add_to_variable = {	StateReligionTotal = ReligionChristianityProtestant }
    add_to_variable = {	StateReligionTotal = ReligionChristianityOrthodox }
    add_to_variable = {	StateReligionTotal = ReligionChristianityOriental }
    add_to_variable = {	StateReligionTotal = ReligionJudaism }
    add_to_variable = {	StateReligionTotal = ReligionIslamSunni }
    add_to_variable = {	StateReligionTotal = ReligionIslamShia }
    add_to_variable = {	StateReligionTotal = ReligionIslamIbadi }
    add_to_variable = {	StateReligionTotal = ReligionBuddhismVajrayana }
    add_to_variable = {	StateReligionTotal = ReligionBuddhismMahayana }
    add_to_variable = {	StateReligionTotal = ReligionBuddhismThereveda }
    add_to_variable = {	StateReligionTotal = ReligionShinto }
    add_to_variable = {	StateReligionTotal = ReligionTraditionalEastern }
    add_to_variable = {	StateReligionTotal = ReligionConfucian }
    add_to_variable = {	StateReligionTotal = ReligionHindu }
    add_to_variable = {	StateReligionTotal = ReligionSikh }
    add_to_variable = {	StateReligionTotal = ReligionNavayana }
    add_to_variable = {	StateReligionTotal = ReligionTraditionalIranian }
    add_to_variable = {	StateReligionTotal = ReligionIrreligious }
    add_to_variable = {	StateReligionTotal = ReligionAtheist }
    add_to_variable = {	StateReligionTotal = ReligionZionistChristian }
    add_to_variable = {	StateReligionTotal = ReligionStatist }
    add_to_variable = {	StateReligionTotal = ReligionCultistSafe }
    add_to_variable = {	StateReligionTotal = ReligionCultistFatal }
    add_to_variable = {	StateReligionTotal = ReligionTraditionalAfrican }
    add_to_variable = {	StateReligionTotal = ReligionTraditionalAmerican }
    add_to_variable = {	StateReligionTotal = ReligionTraditionalOceanic }
    add_to_variable = {	StateReligionTotal = ReligionChineseSalvationist }
    add_to_variable = {	StateReligionTotal = ReligionMessianic }
    add_to_variable = {	StateReligionTotal = ReligionOther }

    set_variable = { StateChristianityCatholic = ReligionChristianityCatholic }
    set_variable = { StateChristianityProtestant = ReligionChristianityProtestant }
    set_variable = { StateChristianityOrthodox = ReligionChristianityOrthodox }
    set_variable = { StateChristianityOriental = ReligionChristianityOriental }
    set_variable = { StateJudaism = ReligionJudaism }
    set_variable = { StateIslamSunni = ReligionIslamSunni }
    set_variable = { StateIslamShia = ReligionIslamShia }
    set_variable = { StateIslamIbadi = ReligionIslamIbadi }
    set_variable = { StateBuddhismVajrayana = ReligionBuddhismVajrayana }
    set_variable = { StateBuddhismMahayana = ReligionBuddhismMahayana }
    set_variable = { StateBuddhismThereveda = ReligionBuddhismThereveda }
    set_variable = { StateShinto = ReligionShinto }
    set_variable = { StateTraditionalEastern = ReligionTraditionalEastern }
    set_variable = { StateConfucian = ReligionConfucian }
    set_variable = { StateHindu = ReligionHindu }
    set_variable = { StateSikh = ReligionSikh }
    set_variable = { StateNavayana = ReligionNavayana }
    set_variable = { StateTraditionalIranian = ReligionTraditionalIranian }
    set_variable = { StateIrreligious = ReligionIrreligious }
    set_variable = { StateAtheist = ReligionAtheist }
    set_variable = { StateZionistChristian = ReligionZionistChristian }
    set_variable = { StateStatist = ReligionStatist }
    set_variable = { StateCultistSafe = ReligionCultistSafe }
    set_variable = { StateCultistFatal = ReligionCultistFatal }
    set_variable = { StateTraditionalAfrican = ReligionTraditionalAfrican }
    set_variable = { StateTraditionalAmerican = ReligionTraditionalAmerican }
    set_variable = { StateTraditionalOceanic = ReligionTraditionalOceanic }
    set_variable = { StateChineseSalvationist = ReligionChineseSalvationist }
    set_variable = { StateMessianic = ReligionMessianic }
    set_variable = { StateOther = ReligionOther }

    divide_variable = { StateChristianityCatholic = StateReligionTotal }
    divide_variable = { StateChristianityProtestant = StateReligionTotal }
    divide_variable = { StateChristianityOrthodox = StateReligionTotal }
    divide_variable = { StateChristianityOriental = StateReligionTotal }
    divide_variable = { StateJudaism = StateReligionTotal }
    divide_variable = { StateIslamSunni = StateReligionTotal }
    divide_variable = { StateIslamShia = StateReligionTotal }
    divide_variable = { StateIslamIbadi = StateReligionTotal }
    divide_variable = { StateBuddhismVajrayana = StateReligionTotal }
    divide_variable = { StateBuddhismMahayana = StateReligionTotal }
    divide_variable = { StateBuddhismThereveda = StateReligionTotal }
    divide_variable = { StateShinto = StateReligionTotal }
    divide_variable = { StateTraditionalEastern = StateReligionTotal }
    divide_variable = { StateConfucian = StateReligionTotal }
    divide_variable = { StateHindu = StateReligionTotal }
    divide_variable = { StateSikh = StateReligionTotal }
    divide_variable = { StateNavayana = StateReligionTotal }
    divide_variable = { StateTraditionalIranian = StateReligionTotal }
    divide_variable = { StateIrreligious = StateReligionTotal }
    divide_variable = { StateAtheist = StateReligionTotal }
    divide_variable = { StateZionistChristian = StateReligionTotal }
    divide_variable = { StateStatist = StateReligionTotal }
    divide_variable = { StateCultistSafe = StateReligionTotal }
    divide_variable = { StateCultistFatal = StateReligionTotal }
    divide_variable = { StateTraditionalAfrican = StateReligionTotal }
    divide_variable = { StateTraditionalAmerican = StateReligionTotal }
    divide_variable = { StateTraditionalOceanic = StateReligionTotal }
    divide_variable = { StateChineseSalvationist = StateReligionTotal }
    divide_variable = { StateMessianic = StateReligionTotal }
    divide_variable = { StateOther = StateReligionTotal }  

    clear_array = religion_percentage
    
    
	multiply_variable = { StateChristianityCatholic = 100 }
	round_variable = StateChristianityCatholic
	add_to_array = { religion_percentage = StateChristianityCatholic }
    
	multiply_variable = { StateChristianityProtestant = 100 }
	round_variable = StateChristianityProtestant
	add_to_array = { religion_percentage = StateChristianityProtestant }
    
	multiply_variable = { StateChristianityOrthodox = 100 }
	round_variable = StateChristianityOrthodox
	add_to_array = { religion_percentage = StateChristianityOrthodox }
    
	multiply_variable = { StateChristianityOriental = 100 }
	round_variable = StateChristianityOriental
	add_to_array = { religion_percentage = StateChristianityOriental }
    
	multiply_variable = { StateJudaism = 100 }
	round_variable = StateJudaism
	add_to_array = { religion_percentage = StateJudaism }
    
	multiply_variable = { StateIslamSunni = 100 }
	round_variable = StateIslamSunni
	add_to_array = { religion_percentage = StateIslamSunni }
    
	multiply_variable = { StateIslamShia = 100 }
	round_variable = StateIslamShia
	add_to_array = { religion_percentage = StateIslamShia }
    
	multiply_variable = { StateIslamIbadi = 100 }
	round_variable = StateIslamIbadi
	add_to_array = { religion_percentage = StateIslamIbadi }
    
	multiply_variable = { StateBuddhismVajrayana = 100 }
	round_variable = StateBuddhismVajrayana
	add_to_array = { religion_percentage = StateBuddhismVajrayana }
    
	multiply_variable = { StateBuddhismMahayana = 100 }
	round_variable = StateBuddhismMahayana
	add_to_array = { religion_percentage = StateBuddhismMahayana }
    
	multiply_variable = { StateBuddhismThereveda = 100 }
	round_variable = StateBuddhismThereveda
	add_to_array = { religion_percentage = StateBuddhismThereveda }
    
	multiply_variable = { StateShinto = 100 }
	round_variable = StateShinto
	add_to_array = { religion_percentage = StateShinto }
    
	multiply_variable = { StateTraditionalEastern = 100 }
	round_variable = StateTraditionalEastern
	add_to_array = { religion_percentage = StateTraditionalEastern }
   
	multiply_variable = { StateConfucian = 100 }
	round_variable = StateConfucian
	add_to_array = { religion_percentage = StateConfucian }
    
	multiply_variable = { StateHindu = 100 }
	round_variable = StateHindu
	add_to_array = { religion_percentage = StateHindu }
    
	multiply_variable = { StateSikh = 100 }
	round_variable = StateSikh
	add_to_array = { religion_percentage = StateSikh }
    
	multiply_variable = { StateNavayana = 100 }
	round_variable = StateNavayana
	add_to_array = { religion_percentage = StateNavayana }
    
	multiply_variable = { StateTraditionalIranian = 100 }
	round_variable = StateTraditionalIranian
	add_to_array = { religion_percentage = StateTraditionalIranian }
    
	multiply_variable = { StateIrreligious = 100 }
	round_variable = StateIrreligious
	add_to_array = { religion_percentage = StateIrreligious }
    
	multiply_variable = { StateAtheist = 100 }
	round_variable = StateAtheist
	add_to_array = { religion_percentage = StateAtheist }
    
	multiply_variable = { StateZionistChristian = 100 }
	round_variable = StateZionistChristian
	add_to_array = { religion_percentage = StateZionistChristian }
    
	multiply_variable = { StateStatist = 100 }
	round_variable = StateStatist
	add_to_array = { religion_percentage = StateStatist }
    
	multiply_variable = { StateCultistSafe = 100 }
	round_variable = StateCultistSafe
	add_to_array = { religion_percentage = StateCultistSafe }
    
	multiply_variable = { StateCultistFatal = 100 }
	round_variable = StateCultistFatal
	add_to_array = { religion_percentage = StateCultistFatal }
    
	multiply_variable = { StateTraditionalAfrican = 100 }
	round_variable = StateTraditionalAfrican
	add_to_array = { religion_percentage = StateTraditionalAfrican }
    
	multiply_variable = { StateTraditionalAmerican = 100 }
	round_variable = StateTraditionalAmerican
	add_to_array = { religion_percentage = StateTraditionalAmerican }
    
	multiply_variable = { StateTraditionalOceanic = 100 }
	round_variable = StateTraditionalOceanic
	add_to_array = { religion_percentage = StateTraditionalOceanic }
    
	multiply_variable = { StateChineseSalvationist = 100 }
	round_variable = StateChineseSalvationist
	add_to_array = { religion_percentage = StateChineseSalvationist }
    
	multiply_variable = { StateMessianic = 100 }
	round_variable = StateMessianic
	add_to_array = { religion_percentage = StateMessianic }
    
	multiply_variable = { StateOther = 100 }
	round_variable = StateOther
	add_to_array = { religion_percentage = StateOther } 

    clear_array = religion_id 

    add_to_array = { religion_id = 1 }
    add_to_array = { religion_id = 2 }
    add_to_array = { religion_id = 3 }
    add_to_array = { religion_id = 4 }
    add_to_array = { religion_id = 5 }
    add_to_array = { religion_id = 6 }
    add_to_array = { religion_id = 7 }
    add_to_array = { religion_id = 8 }
    add_to_array = { religion_id = 9 }
    add_to_array = { religion_id = 10 }
    add_to_array = { religion_id = 11 }
    add_to_array = { religion_id = 12 }
    add_to_array = { religion_id = 13 }
    add_to_array = { religion_id = 14 }
    add_to_array = { religion_id = 15 }
    add_to_array = { religion_id = 16 }
    add_to_array = { religion_id = 17 }
    add_to_array = { religion_id = 18 }
    add_to_array = { religion_id = 19 }
    add_to_array = { religion_id = 20 }
    add_to_array = { religion_id = 21 }
    add_to_array = { religion_id = 22 }
    add_to_array = { religion_id = 23 }
    add_to_array = { religion_id = 24 }
    add_to_array = { religion_id = 25 }
    add_to_array = { religion_id = 26 }
    add_to_array = { religion_id = 27 }
    add_to_array = { religion_id = 28 }
    add_to_array = { religion_id = 29 }    
    add_to_array = { religion_id = 30 }

	set_temp_variable = { length_temp = religion_percentage^num }
	for_loop_effect = {
		start = 0
		end = length_temp
		add = 1
		value = v
		break = b
		
		
		find_highest_in_array = {
			array = religion_percentage
			value = v
			index = ii
		}
		remove_from_array = {
			array = religion_percentage
			index = ii
		}
		add_to_temp_array = { 
			array = religion_percentage_temp
			value = v
		}
		set_temp_variable = { religion_id_temp_var = religion_id^ii }
		remove_from_array = {
			array = religion_id
			index = ii
		}
		add_to_temp_array = { 
			array = religion_id_temp
			value = religion_id_temp_var  
		}
	}
	for_loop_effect = {
		start = 0
		end = length_temp
		add = 1
		value = v
		break = b
		
		add_to_array = { 
			array = religion_percentage
			value = religion_percentage_temp^v
		}
		add_to_array = { 
			array = religion_id
			value = religion_id_temp^v 
		}
	}
	

 }

# Scripted GUI Pie Chart example by Yard1
# Feel free to use in your mods, but give credits to Yard1 (both in code, with comments; and on your download page)

# this creates a pie chart of popularities - can be easily adapted to show anything that adds up to 100%
create_religion_pie_chart = {
	clear_array = pie_chart
	resize_array = {
		array = pie_chart
		value = 1 # 1 is value for neutrality frame, so we don't have to make a loop for it
		size = 100 # 100 pieces, each percent is one piece
	}
	set_temp_variable = { catholic_pop = StateChristianityCatholic }
	#multiply_temp_variable = { catholic_pop = 100 }
	round_temp_variable = catholic_pop

	set_temp_variable = { protestant_pop = StateChristianityProtestant }
	#multiply_temp_variable = { protestant_pop = 100 }
	round_temp_variable = protestant_pop 
	set_variable = { ROOT.last_idx = catholic_pop }
	add_to_temp_variable = { protestant_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = protestant_pop
		set_variable = { pie_chart^v = 2 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { orthodox_pop = StateChristianityOrthodox }
	#multiply_temp_variable = { orthodox_pop = 100 }
	round_temp_variable = orthodox_pop
	add_to_temp_variable = { orthodox_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = orthodox_pop
		set_variable = { pie_chart^v = 3 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { oriental_pop = StateChristianityOriental }
	#multiply_temp_variable = { oriental_pop = 100 }
	round_temp_variable = oriental_pop 
	add_to_temp_variable = { oriental_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = oriental_pop
		set_variable = { pie_chart^v = 4 }
		add_to_variable = { ROOT.last_idx = 1 }
	}
	set_temp_variable = { jewish_pop = StateJudaism }
	#multiply_temp_variable = { jewish_pop = 100 }
	round_temp_variable = jewish_pop 
	add_to_temp_variable = { jewish_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = jewish_pop
		set_variable = { pie_chart^v = 5 }
		add_to_variable = { ROOT.last_idx = 1 }
	}
	set_temp_variable = { sunni_pop = StateIslamSunni }
	#multiply_temp_variable = { sunni_pop = 100 }
	round_temp_variable = sunni_pop 
	add_to_temp_variable = { sunni_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = sunni_pop
		set_variable = { pie_chart^v = 6 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { shia_pop = StateIslamShia }
	#multiply_temp_variable = { shia_pop = 100 }
	round_temp_variable = shia_pop 
	add_to_temp_variable = { shia_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = shia_pop
		set_variable = { pie_chart^v = 7 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { ibadi_pop = StateIslamIbadi }
	#multiply_temp_variable = { ibadi_pop = 100 }
	round_temp_variable = ibadi_pop 
	add_to_temp_variable = { ibadi_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = ibadi_pop
		set_variable = { pie_chart^v = 8 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { vajrayana_pop = StateBuddhismVajrayana }
	#multiply_temp_variable = { vajrayana_pop = 100 }
	round_temp_variable = vajrayana_pop 
	add_to_temp_variable = { vajrayana_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = vajrayana_pop
		set_variable = { pie_chart^v = 9 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { mahayana_pop = StateBuddhismMahayana }
	#multiply_temp_variable = { mahayana_pop = 100 }
	round_temp_variable = mahayana_pop 
	add_to_temp_variable = { mahayana_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = mahayana_pop
		set_variable = { pie_chart^v = 10 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { thereveda_pop = StateBuddhismThereveda }
	#multiply_temp_variable = { thereveda_pop = 100 }
	round_temp_variable = thereveda_pop 
	add_to_temp_variable = { thereveda_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = thereveda_pop
		set_variable = { pie_chart^v = 11 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { shinto_pop = StateShinto }
	#multiply_temp_variable = { shinto_pop = 100 }
	round_temp_variable = shinto_pop 
	add_to_temp_variable = { shinto_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = shinto_pop
		set_variable = { pie_chart^v = 12 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { eastern_pop = StateTraditionalEastern }
	#multiply_temp_variable = { eastern_pop = 100 }
	round_temp_variable = eastern_pop 
	add_to_temp_variable = { eastern_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = eastern_pop
		set_variable = { pie_chart^v = 13 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { confucian_pop = StateConfucian }
	#multiply_temp_variable = { confucian_pop = 100 }
	round_temp_variable = confucian_pop 
	add_to_temp_variable = { confucian_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = confucian_pop
		set_variable = { pie_chart^v = 14 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { hindu_pop = StateHindu }
	#multiply_temp_variable = { hindu_pop = 100 }
	round_temp_variable = hindu_pop 
	add_to_temp_variable = { hindu_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = hindu_pop
		set_variable = { pie_chart^v = 15 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { sikh_pop = StateSikh }
	#multiply_temp_variable = { sikh_pop = 100 }
	round_temp_variable = sikh_pop 
	add_to_temp_variable = { sikh_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = sikh_pop
		set_variable = { pie_chart^v = 16 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { navayana_pop = StateNavayana }
	#multiply_temp_variable = { navayana_pop = 100 }
	round_temp_variable = navayana_pop 
	add_to_temp_variable = { navayana_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = navayana_pop
		set_variable = { pie_chart^v = 17 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { iranian_pop = StateTraditionalIranian }
	#multiply_temp_variable = { iranian_pop = 100 }
	round_temp_variable = iranian_pop 
	add_to_temp_variable = { iranian_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = iranian_pop
		set_variable = { pie_chart^v = 18 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { irreligious_pop = StateIrreligious }
	#multiply_temp_variable = { irreligious_pop = 100 }
	round_temp_variable = irreligious_pop 
	add_to_temp_variable = { irreligious_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = irreligious_pop
		set_variable = { pie_chart^v = 19 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { atheist_pop = StateAtheist }
	#multiply_temp_variable = { atheist_pop = 100 }
	round_temp_variable = atheist_pop 
	add_to_temp_variable = { atheist_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = atheist_pop
		set_variable = { pie_chart^v = 20 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { zionist_pop = StateZionistChristian }
	#multiply_temp_variable = { zionist_pop = 100 }
	round_temp_variable = zionist_pop 
	add_to_temp_variable = { zionist_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = zionist_pop
		set_variable = { pie_chart^v = 21 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { statist_pop = StateStatist }
	#multiply_temp_variable = { statist_pop = 100 }
	round_temp_variable = statist_pop 
	add_to_temp_variable = { statist_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = statist_pop
		set_variable = { pie_chart^v = 22 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { cultist_pop = StateCultistSafe }
	#multiply_temp_variable = { cultist_pop = 100 }
	round_temp_variable = cultist_pop 
	add_to_temp_variable = { cultist_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = cultist_pop
		set_variable = { pie_chart^v = 23 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { cult_fatal_pop = StateCultistFatal }
	#multiply_temp_variable = { cult_fatal_pop = 100 }
	round_temp_variable = cult_fatal_pop 
	add_to_temp_variable = { cult_fatal_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = cult_fatal_pop
		set_variable = { pie_chart^v = 24 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { african_pop = StateTraditionalAfrican }
	#multiply_temp_variable = { african_pop = 100 }
	round_temp_variable = african_pop 
	add_to_temp_variable = { african_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = african_pop
		set_variable = { pie_chart^v = 25 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { american_pop = StateTraditionalAmerican }
	#multiply_temp_variable = { american_pop = 100 }
	round_temp_variable = american_pop 
	add_to_temp_variable = { american_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = american_pop
		set_variable = { pie_chart^v = 26 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { oceanic_pop = StateTraditionalOceanic }
	#multiply_temp_variable = { oceanic_pop = 100 }
	round_temp_variable = oceanic_pop 
	add_to_temp_variable = { oceanic_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = oceanic_pop
		set_variable = { pie_chart^v = 27 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { salvationist_pop = StateChineseSalvationist }
	#multiply_temp_variable = { salvationist_pop = 100 }
	round_temp_variable = salvationist_pop 
	add_to_temp_variable = { salvationist_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = salvationist_pop
		set_variable = { pie_chart^v = 28 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	set_temp_variable = { messianic_pop = StateMessianic }
	#multiply_temp_variable = { messianic_pop = 100 }
	round_temp_variable = messianic_pop 
	add_to_temp_variable = { messianic_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = messianic_pop
		set_variable = { pie_chart^v = 29 }
		add_to_variable = { ROOT.last_idx = 1 }
	}
  
	set_temp_variable = { other_pop = StateOther }
	#multiply_temp_variable = { other_pop = 100 }
	round_temp_variable = other_pop 
	add_to_temp_variable = { other_pop = ROOT.last_idx }
	for_loop_effect = {
		start = ROOT.last_idx
		end = other_pop
		set_variable = { pie_chart^v = 30 }
		add_to_variable = { ROOT.last_idx = 1 }
	}

	clear_variable = ROOT.last_idx
	add_to_variable = { pie_chart_dirty = 1 }
}
